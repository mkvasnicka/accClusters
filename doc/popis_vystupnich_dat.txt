Popis dat - výstup z guts, vstup pro shiny
------------------------------------------

- každý soubor obsahuje jeden okres (s bufferem) pro jedno časové období
    - tj. jeden okres v jednom období je jeden nekomprimovaný .rds soubor
    - filename:
        - příklad: shiny_CZ0100_2018-01-01_2020-12-31.rds
        - tj.: shiny_idOkresu_fromDate_toDate.rds
- každý soubor obsahuje jeden seznam, který má tři sloty:
    - lixels (sf) -- jen lixely, které jsou součástí klastru / mají vysokou hustotu
        - id (lixelu)
        - density
        - cluster (id/NA)
        - geometry
    - accidents (tibble) -- jen nehody, které jsou součástí klastru
        - id (p1)
        - cluster
        - accident_cost
    - cluster_statistics (sf)
        - cluster (id/NA)
        - total_length
        - total_density
        - cost
        - cost_per_km
        - geometry
- dělá funkce compute_clusters() -> one_district()


Otázky
------

- jak předat nehody?
    - možnosti:
        1. pro každý okres x čas nehody jako výše plus 1 soubor se všemi
            informacemi o všech nehodách, shiny si to samo sjoinuje
        2. doplnit do souborů okres x čas všechny potřebné informace o nehodách
            včetně jejich geometrie
    - jaké sloupce mají obsahovat nehody?
        - mohou obsahovat klidně všechna data ze základní tabulky
        - ostatní tabulky se ale musejí nějak agregovat
        - je potřeba napsat/upravit načítání všech nehod -- zatím primitivní
- může policie chtít víc vah nehod najednou?
    - teď to jde pomocí profilů, ale pro deployment nešikovné
    - vyžadovalo by to další příznak ve jménu souboru (jméno profilu, jméno vah,
        ...)
- měl by se buffer okolo okresu oříznout?
    - pokud ne
        - hustoty za krajem okresu jsou nespolehlivé
    - pokud ano
        - jak ořezat klastry nehod?
            - možnost: nechat jen klastry, které mají (dostatečný?) průnik
                s vlastním okreseme, tj. neleží (více méně?) celé jen v bufferu
